<!DOCTYPE html>
<html lang="ko">
<head meta_width="800px" meta_height="600px">
<script>
	$m.EFC_PROG_POP.___ready = function(args){
		$m.EFC_PROG_POP.fn_search();		
	};
	
	$m.EFC_PROG_POP.fn_search = function(){
		$m.EFC_PROG_POP.exe({
			url : $m._domain+$m._contextRoot+"/sym/prm/EgovProgramListManageSelect_json.do",
			loadingbar:true,
	        data : {
	        	"header" : $m.header,
	        	"body" : {searchKeyword:$m.getValue($m.EFC_PROG_POP.getObj( "searchKeyword"))}
	        },			
			callback : function(response){
				var list = $m.EFC_PROG_POP.getResList(response,"list");
				$m.EFC_PROG_POP.drawGrid('pop_grd_1', list);
			}
		});
	};
	
	$m.EFC_PROG_POP.fn_rowSelect = function(){
		var _grd = $m.EFC_PROG_POP.getObj("pop_grd_1");
		var _popupId = _grd.getAttribute("pageid");
		var srri = _grd.getAttribute("selectedRealRowIndex");
		if(srri != null){
			var progrmFileNm = _grd.list[srri]['progrmFileNm'];
			var progrmKoreanNm = _grd.list[srri]['progrmKoreanNm'];
			
			if(progrmFileNm != null && progrmFileNm != ''){
				$m.confirm('※프로그램:<b>'+progrmFileNm+'('+progrmKoreanNm+')</b> <br/>로 선택하시겠습니까?',function(result){
					if(result == 'Y'){
						$m.popClose(_popupId,{"progrmFileNm":progrmFileNm});
					}
				});
			}
		}else{
			$m.alert('※행을 선택하세요!');
		}

		
	};
</script>
</head>
<body>
		<div class="moca_pop_cont_wrap flex fcol">
			<div class="moca_shbox">
				<div class="shbox_inner">
					<div class="flex fwrap">
						<div class="tb">
							<span class="tb_th">프로그램명</span>
							<span class="tb_td">
								<div class="moca_ibn" style="width:150px">
									<div type="input" id="searchKeyword" keyMask="enterSearchEvt" class="mocaInput sh"  style=""  disabled="false" readonly="false"></div>
								</div>
							</span>
						</div>
					</div>
				</div>
				<div class="btn_shbox">
					<button type="button" class="button btn_sc" onclick="$m.EFC_PROG_POP.fn_search(this)"><i class="fas fa-search"></i><span>조회</span></button>
				</div>
			</div>
			<div type="grid" class="moca_grid toolbar fauto mt12" default_cell_height="26px" id="pop_grd_1"
				style=""
	 			onDblclick="$m.EFC_PROG_POP.fn_rowSelect"
				toolbar_grid_button2='{"position":"right","id":"button2","label":"적용","onclick":"$m.EFC_PROG_POP.fn_rowSelect","addClass":""}'	
				label="프로그램목록">
				<table style="width: 100%">
					<colgroup>
						<col style="width:200px">
						<col style="width:200px">
						<col style="">
					</colgroup>
					<thead>
						<tr>
							<th scope="col" id="lv1">프로그램아이디</th>
							<th scope="col" id="lv2">프로그램명</th>
							<th scope="col" id="lv4">URL</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td id="progrmFileNm" celltype="input" style="text-align:left" readOnly="true"  required="true" tooltip="true"></td>
							<td id="progrmKoreanNm" celltype="input" style="text-align:left" readOnly="true"  tooltip="true"></td>
							<td id="url" celltype="input" style="text-align:left" readOnly="true"required="true" tooltip="true"></td>
						</tr>
					</tbody>
				</table>				
			</div>
		</div>	
</body>
</html>
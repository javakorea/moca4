<!DOCTYPE html>
<html lang="ko">
<head>
<script>
	$m.EFC_BOARD_HIS.___ready = function(args){
		$m.EFC_BOARD_HIS.code({
            "grd_1.BOARDHIS_STATUS":{code:'crud'},
            "grd_1.BOARD_TYPE":{code:'boardType'},
            "grd_1.BOARD_SUPPORT":{code:'boardStatus'},
        },function(result){
        	var list = result['grd_1.BOARDHIS_STATUS'];
        	$m.setCheckboxGroupList($m.EFC_BOARD_HIS.getObj('chkg_1'),list,{label:"codeNm",value:"code",checked:true});
        	$m.EFC_BOARD_HIS.fn_search();
        });
	};
	
	$m.EFC_BOARD_HIS.fn_search = function(){
		$m.EFC_BOARD_HIS.exe({
	        url : $m._domain+$m._contextRoot+"/EFC_BOARD_HIS/selectBoardHisList.do",
	        loadingbar:true,
	        data : {
	            "header" : $m.header,
	            "body" : {
	            	"BOARD_WRITER":$m.getValue($m.EFC_BOARD_HIS.getObj( "ipt_WRITER")),
	            	"BOARD_TITLE":$m.getValue($m.EFC_BOARD_HIS.getObj( "ipt_TITLE")),
	            	"BOARD_IDX":$m.getValue($m.EFC_BOARD_HIS.getObj( "ipt_BOARDIDX")),
	            	"FROM":$m.EFC_BOARD_HIS.getFrom("CREATE_DTTM").replace(/-/g,''),
                    "TO":$m.EFC_BOARD_HIS.getTo("CREATE_DTTM").replace(/-/g,''),
                    "statusList":$m.getCheckboxGroupCheckedList($m.EFC_BOARD_HIS.getObj('chkg_1'))
	            }
	        },          
	        callback : function(response){
	        	$m.EFC_BOARD_HIS.drawGrid('grd_1',$m.getResList(response,"selectBoardHisList"));
	        }
	    });
	};
	
	$m.EFC_BOARD_HIS.popId = "EFC_BOARD_POP";
	$m.EFC_BOARD_HIS.grd_1__onDblClick = function(_grd,rowIndex,colIndex,colId){
	    ['게시판이력상세']
	    var _BoardTitle = _grd.list[rowIndex].BOARD_TITLE;
	    var _BoardIdx = $m.getCellData(_grd,rowIndex,'BOARD_IDX');
	    var _BoardHisIdx = $m.getCellData(_grd,rowIndex,'BOARDHIS_IDX');
	    var _BoardHisStatus = $m.getCellViewData(_grd,rowIndex,'BOARDHIS_STATUS');
	    
	    var o = {};
	    o.id = $m.EFC_BOARD_HIS.popId;
	    o.url = '/html/EFC/EFC_BOARD_HIS_POP.html';
	    o.type = "POPUP";
	    o.modal = "false";
	    o.title = '게시판이력상세';
	    o.callback = $m.EFC_BOARD_HIS.fn_pop_callback;
	    o.scopeId = $m.EFC_BOARD_HIS.pageId;
	    o.data = {"BOARD_IDX":_BoardIdx+'',"BOARDHIS_IDX":_BoardHisIdx+'',"BOARD_TITLE":_BoardTitle,"BOARDHIS_STATUS":_BoardHisStatus};
	    $m.popup(o,_grd);
	};
</script>

</head>
<body>
	
<div id="moca_tab_bridge1" class="moca_tab_panel" role="mdipanel" style="display:block;visibility:visible;">
	<div class="moca_tab_cont" style="height:100%">
		<div class="moca_cont_wrap flex fcol">
			<div type="include" class="moca_titbox cm" id="titbox" tag="moca:titbox" 
				src="/html/titlebox.html"
				data = '{"sreenCd":"MOCA_BOARD_HIS","sreenNm":"게시판이력","sreenPath":"시스템설정,게시판이력"}'
			></div>

			<div class="moca_shbox slim">
				<div class="shbox_inner">
					<div class="flex fwrap">
						<div class="tb">
							<span class="tb_th">상태</span>
							<span class="tb_td" style="width:296px">
								<div type="checkboxGroup" class="fl bd" direction="vertical" id="chkg_1"
                                   itemset='[
                                       {"id":"chk1","label":"입력","value":"1","checked":"true"},
                                       {"id":"chk2","label":"수정","value":"1","checked":"true"},
                                       {"id":"chk3","label":"삭제","value":"1","checked":"true"},
                                       {"id":"chk4","label":"다중삭제","value":"1","checked":"true"}
                                   ]'>
                               </div>
							</span>
						</div>
						<div class="tb">
							<span class="tb_th">기간</span>
							<span class="tb_td">
								<div type="inputMultiCalendar" class="moca_ica fl" style="width:auto" id="CREATE_DTTM" displayFormat="####-##-##" 
                                    defaultValue="12개월전" 
                                    selecterItem="오늘,3일전,6일전"
                                    showRadioOption="false"
                                ></div>
							</span>
						</div>
						<div class="tb">
							<span class="tb_th">번호</span>
							<span class="tb_td">
								<div type="input" id="ipt_BOARDIDX" keyMask="enterSearchEvt" class="mocaInput sh"  style="width:207px"  disabled="false" readonly="false"></div>
							</span>
						</div>
						<div class="tb">
							<span class="tb_th">이름</span>
							<span class="tb_td">
								<div type="input" id="ipt_WRITER" keyMask="enterSearchEvt" class="mocaInput sh"  style="width:207px"  disabled="false" readonly="false"></div>
							</span>
						</div>
						<div class="tb">
							<span class="tb_th">제목</span>
							<span class="tb_td">
								<div type="input" id="ipt_TITLE" keyMask="enterSearchEvt" class="mocaInput sh"  style="width:207px"  disabled="false" readonly="false"></div>
							</span>
						</div>
					</div>
				</div>
				<div class="btn_shbox">
					<button type="button" class="button btn_sc" onclick="$m.EFC_BOARD_HIS.fn_search(this)"><i class="fas fa-search"></i><span>조회</span></button>
				</div>
			</div>
			<div type="grid" class="moca_grid toolbar fauto mt12" default_cell_height="26px" id="grd_1" rowSelectedColor="#434e5f"
			
								toolbar_search_size="false"
								toolbar_detail="true"
								toolbar_exup="false"
								toolbar_exdn="true"
								toolbar_addrow="false"
								toolbar_delrow="false"
								toolbar_nextbtn="false"
								toolbar_full="true"

                                onDblClick = "$m.EFC_BOARD_HIS.grd_1__onDblClick"
								label="게시물"
			
			>
					<table style="width: 100%">
						<colgroup>
								<col style="width:130px" mobileHide="false" hide="false" columnKey="BOARDHIS_DATE" thKey="H_BOARDHIS_DATE" >
						        <col style="width:100px" mobileHide="false" hide="false" columnKey="BOARD_TYPE" thKey="H_BOARD_TYPE" >
								<col style="width:60px" mobileHide="true" hide="false" columnKey="BOARD_SUPPORT" thKey="H_BOARD_SUPPORT" >
								<col style="width:60px" mobileHide="true" hide="false" columnKey="BOARDHIS_IDX" thKey="H_BOARDHIS_IDX" >
								<col style="width:60px" mobileHide="true" hide="false" columnKey="BOARD_IDX" thKey="H_BOARD_IDX" >
								<col style="width:100px" mobileHide="true" hide="false" columnKey="BOARDHIS_STATUS" thKey="H_BOARDHIS_STATUS" >
								<col style="" mobileHide="false" hide="false" columnKey="BOARD_TITLE" thKey="H_BOARD_TITLE" >
								<col style="width:100px" mobileHide="true" hide="false" columnKey="BOARD_WRITER" thKey="H_BOARD_WRITER" >
						</colgroup>
						<thead>
							<tr>
								
							    <th scope="col" id="H_BOARDHIS_DATE">작성일시</th>
							    <th scope="col" id="H_BOARD_TYPE">게시판유형</th>
							    <th scope="col" id="H_BOARD_SUPPORT">접수상태</th>
								<th scope="col" id="H_BOARDHIS_IDX">이력ID</th>
								<th scope="col" id="H_BOARD_IDX">게시판ID</th>
								<th scope="col" id="H_BOARDHIS_STATUS">이력상태</th>
								<th scope="col" id="H_BOARD_TITLE">제목</th>
								<th scope="col" id="H_BOARD_WRITER">작성자</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td id="BOARDHIS_DATE" celltype="input" style="" name="작성일시" readOnly="true" displayFunction="$m.longToDate"></td>
								<td id="BOARD_TYPE" celltype="select" style="text-align:left" readOnly="true"  displayFormat="[value] [label]"  name="게시판유형"></td>
								<td id="BOARD_SUPPORT" celltype="select" style="text-align:left" readOnly="true"  displayFormat="[value] [label]"  name="이력상태"></td>
								<td id="BOARDHIS_IDX" celltype="input" style="" readOnly="true" name="이력ID"></td>
								<td id="BOARD_IDX" celltype="input" style="" readOnly="true" name="게시판ID"></td>
								<td id="BOARDHIS_STATUS" celltype="select" style="text-align:left" readOnly="true"  displayFormat="[value] [label]"  name="이력상태"></td>
								<td id="BOARD_TITLE" celltype="input" style="text-align:left" name="제목" readOnly="true"></td>
								<td id="BOARD_WRITER" celltype="input" style="text-align:center" name="작성자" readOnly="true"></td>
								
							</tr>
						</tbody>
					</table>				
			</div>
		</div>	
	</div>
</div>
</body>
</html>
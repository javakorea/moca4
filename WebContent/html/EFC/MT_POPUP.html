<!DOCTYPE html>
<html lang="ko">
<head meta_width="1400px" meta_height="700px">
<script>
	
	$m.MT_POPUP.___ready = function(){
		$m.MT_POPUP.fn_search();
	};
	
	$m.MT_POPUP.fn_search = function(){
		$m.MT_POPUP.exe({
			url : $m._domain+$m._contextRoot+"/MT_TEST/selectTestList.do",
            data : {
            	"header" : $m.header,
            	"body" : {
            		"TEST_TYPE":"LAYER"
            	}
            },			
			callback : function(response){
				$m.MT_POPUP.drawGrid('grd_1', $m.MT_POPUP.getResList(response,"selectTestList"));
			}
		});
	};
	
	$m.MT_POPUP.fn_exe = function(_thisObj){
		var o = {};
	    o.id = "MT_POPUP2";
	    o.url = '/html/EFC/MT_LAYERPOPUP.html';
	    o.type = "POPUP";
	    o.modal = "false";
	    o.title = '레이어팝업';
	    o.callback = $m.MT_POPUP.fn_pop_callback;
	    o.scopeId = $m.MT_POPUP.pageId;
	    o.data = {};
		$m.popup(o,_thisObj);
	};
	
	$m.MT_POPUP.fn_pop_callback = function(_json){
		if(_json != null){
			var progrmFileNm = _json["progrmFileNm"];
			var _grd = $m.MT_POPUP.getObj("grd_1");
			$m.MT_POPUP.setCellData(_grd,_grd.getAttribute("selectedRealRowIndex"),"TEST_VALUE",progrmFileNm);	
		}else{
			$m.MT_POPUP.___ready();
		}
		
	}
	
	$m.MT_POPUP.fn_exe2 = function(_thisObj){
		debugger;
		$m.mdiChange($m.MT_POPUP.pageId);
	};
	$m.MT_POPUP._excelCallback = function(_json){
		if(_json.gridId == "grd_1"){
			$m.MT_POPUP.fn_search();
		}
	};
	$m.MT_POPUP.grd_01__onDblClick = function(_grd,rowIndex,colIndex,colId){
	}
</script>

</head>
<body>
	
<div id="moca_tab_bridge1" class="moca_tab_panel" role="mdipanel" style="display:block;visibility:visible;">
	<div class="moca_tab_cont" style="height:100%">
		<div class="moca_cont_wrap flex fcol">
			<div type="include" class="moca_titbox noshbox cm" id="titbox" tag="moca:titbox" 
				src="/html/titlebox.html"
				data = '{"sreenCd":"MT_POPUP","sreenNm":"시스템설정","sreenPath":"시스템관리,시스템설정"}'
			></div>
			<div type="grid" class="moca_grid toolbar fauto mt12" default_cell_height="26px" id="grd_1" rowSelectedColor="#434e5f"
								rendering_div = "true"
								toolbar_search_size="false"
								toolbar_detail="false"
								toolbar_exup="false"
								toolbar_exdn="false"
								toolbar_addrow="false"
								toolbar_delrow="false"
								toolbar_full="true"
								toolbar_grid_button1='{"position":"right","id":"btn_add","label":"레이어팝업","onclick":"$m.MT_POPUP.fn_exe","addClass":"","innerDisabled":"false"}'
								toolbar_grid_button2='{"position":"right","id":"btn_add2","label":"윈도우팝업","onclick":"$m.MT_POPUP.fn_exe2","addClass":"","innerDisabled":"false"}'
								onDblClick = "$m.MT_POPUP.grd_01__onDblClick"
								label="총건수"
			
			>
					<table style="width: 100%">
						<colgroup>
								<col style="width:150px" mobileHide="false" hide="false" columnKey="TEST_PROP" thKey="H_TEST_PROP" >
								<col style="" mobileHide="false" hide="false" columnKey="TEST_VALUE" thKey="H_TEST_VALUE" >
								<col style="width:300px" mobileHide="true" hide="false" columnKey="TEST_DB" thKey="H_TEST_DB" >		
						</colgroup>
						<thead>
							<tr>
								<th scope="col" id="H_TEST_PROP">속성</th>
								<th scope="col" id="H_TEST_VALUE">그리드팝업</th>
								<th scope="col" id="H_TEST_DB">설명</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td excelIndex="0" id="TEST_PROP" celltype="input" style="text-align:left" name="속성" required="false" readOnly="true" ></td>
								<td excelIndex="1" id="TEST_VALUE" celltype="inputButton" style="" required="true" callFunction="$m.MT_POPUP.fn_exe" name="그리드팝업"></td>
								<td excelIndex="2" id="TEST_DB" celltype="input" style="" name="설명 (editorMode='true')"  required="false" editorMode="true" readOnly="true"></td>
							</tr>
						</tbody>
					</table>				
			</div>
			<div type="grid" class="moca_grid toolbar fauto explanation mt12" style="height:365px" default_cell_height="26px" id="grd_2" rowSelectedColor="#434e5f"
								rendering_div = "true"
								toolbar_search_size="false"
								toolbar_common_btns_pc='{"detail":"false","exup":"false","exdn":"true","addrow":"false","delrow":"false","full":"true"}'
								toolbar_common_btns_mobile='{"detail":"false","exup":"false","exdn":"false","addrow":"false","delrow":"false","full":"true"}'
								toolbar_detail="false"
								toolbar_exup="false"
								toolbar_exdn="true"
								toolbar_addrow="false"
								toolbar_delrow="false"
								toolbar_full="true"
								label="설명"
			
			>
					<table style="width: 100%">
						<colgroup>
								<col style="width:150px" mobileHide="false" hide="false" columnKey="TEST_PROP" thKey="H_TEST_PROP" >
								<col style="" mobileHide="false" hide="false" columnKey="TEST_VALUE" thKey="H_TEST_VALUE" >
								<col style="width:400px" mobileHide="true" hide="false" columnKey="TEST_DB" thKey="H_TEST_DB" >		
						</colgroup>
						<thead>
							<tr>
								<th scope="col" id="H_TEST_PROP">속성</th>
								<th scope="col" id="H_TEST_VALUE">값</th>
								<th scope="col" id="H_TEST_DB">설명</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td excelIndex="1" id="TEST_PROP" celltype="input" style="text-align:left" name="속성" required="false" readOnly="true" ></td>
								<td excelIndex="2" id="TEST_VALUE" celltype="input" style="text-align:left" name="값" readOnly="true"></td>
								<td excelIndex="3" id="TEST_DB" celltype="input" style="text-align:left" name="설명 " readOnly="true" required="false" editorMode="true" ></td>
							</tr>
						</tbody>
					</table>				
			</div>
		</div>	
	</div>
</div>
</body>
</html>
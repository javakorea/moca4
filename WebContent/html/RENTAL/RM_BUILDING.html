<!DOCTYPE html>
<html lang="ko">
<head>
<script>
	$m.RM_BUILDING.___ready = function(){
		$m.RM_BUILDING.fn_search();
	};
	
	$m.RM_BUILDING.fn_search = function(_pageNum){
		$m.RM_BUILDING.exe({
			url : $m._domain+$m._contextRoot+"/RM_BUILDING/selectBuildingList.do",
            data : {
            	"header" : $m.header,
            	"body" : {
            		"SELECT_TYPE":"all",
            		"BUILDING_NAME":$m.getValue($m.RM_BUILDING.getObj( "ipt_BUILDING_NAME")),
	            	"CITY_NAME":$m.getValue($m.RM_BUILDING.getObj( "ipt_CITY_NAME")),
	            	"CITY_DISTRICT":$m.getValue($m.RM_BUILDING.getObj( "ipt_CITY_DISTRICT")),
	            	"ADDRESS_OLD":$m.getValue($m.RM_BUILDING.getObj( "ipt_ADDRESS_OLD")),
	            	"ADDRESS_NEW":$m.getValue($m.RM_BUILDING.getObj( "ipt_ADDRESS_NEW"))
            	}
            },			
			callback : function(response){
				$m.RM_BUILDING.drawGrid('grd_1',$m.getResList(response,"selectBuildingList"));
			}
		});
	};
	$m.RM_BUILDING.fn_exe = function(){
		if($m.RM_BUILDING.validate("grd_1","status","C,U,D")){
			$m.confirm('저장하시겠습니까?',function(result){
				if(result == 'Y'){
					$m.RM_BUILDING.exe({
						url : $m._domain+$m._contextRoot+"/efms/EFGPROP/modify_json.do",
			            data : {
			            	"header" : $m.header,
			            	"body" : {
			            		paramList:$m.RM_BUILDING.getFilteredList("grd_1","status","C,U,D")
			            	}
			            },		
						callback : function(){
			        	   $m.alert('성공적으로 저장되었습니다!',function(){
			        		   $m.RM_BUILDING.fn_search();
			        	   	   return;
			        	   });	
						}
					});
				}
			});
		}
	};
</script>

</head>
<body>
<div id="moca_tab_bridge1" class="moca_tab_panel" role="mdipanel" style="display:block;visibility:visible;">
	<div class="moca_tab_cont" style="height:100%">
		<div class="moca_cont_wrap flex fcol">
			<div type="include" class="moca_titbox cm" id="titbox" tag="moca:titbox" 
				src="/html/titlebox.html"
				data = '{"sreenCd":"RM_BUILDING","sreenNm":"건물관리","sreenPath":"임대관리,건물관리"}'
			></div>

			<div class="moca_shbox">
				<div class="shbox_inner">
					<div class="flex fwrap">
						<div class="tb">
							<span class="tb_th">건물명</span>
							<span class="tb_td">
								<div type="input" id="ipt_BUILDING_NAME" 
									keyMask="enterSearchEvt" 
									class="mocaInput sh"  style="width:207px"  disabled="false" readonly="false" ></div>
							</span>
							<span class="tb_th">시/도</span>
							<span class="tb_td">
								<div type="input" id="ipt_CITY_NAME" 
									keyMask="enterSearchEvt" 
									class="mocaInput sh"  style="width:207px"  disabled="false" readonly="false" ></div>
							</span>
							<span class="tb_th">시/군/구</span>
							<span class="tb_td">
								<div type="input" id="ipt_CITY_DISTRICT" 
									keyMask="enterSearchEvt" 
									class="mocaInput sh"  style="width:207px"  disabled="false" readonly="false" ></div>
							</span>
							<span class="tb_th">지번주소</span>
							<span class="tb_td">
								<div type="input" id="ipt_ADDRESS_OLD" 
									keyMask="enterSearchEvt" 
									class="mocaInput sh"  style="width:207px"  disabled="false" readonly="false" ></div>
							</span>
							<span class="tb_th">도로명주소</span>
							<span class="tb_td">
								<div type="input" id="ipt_ADDRESS_NEW" 
									keyMask="enterSearchEvt" 
									class="mocaInput sh"  style="width:207px"  disabled="false" readonly="false" ></div>
							</span>
						</div>
							
					</div>
				</div>
				<div class="btn_shbox">
					<button type="button" class="button btn_sc" onclick="$m.RM_BUILDING.fn_search(this)"><i class="fas fa-search"></i><span>조회</span></button>
				</div>
			</div>
			
			
			<div type="grid" class="moca_grid toolbar fauto mt12" default_cell_height="26px" id="grd_1" rowSelectedColor="#434e5f"
			
								toolbar_search_size="false"
								toolbar_detail="true"
								toolbar_exup="false"
								toolbar_exdn="true"
								toolbar_addrow="false"
								toolbar_delrow="false"
								toolbar_nextbtn="false"
								toolbar_full="true"
								
								label="건물목록"
								
			>
					<table style="width: 100%">
						<colgroup>
							<col style="width:10%" mobileWidth="65%" mobileHide="false" hide="false" columnKey="BUILDING_NAME" thKey="H_BUILDING_NAME" >
							<col style="width:10%" mobileWidth="65%" mobileHide="false" hide="false" columnKey="CITY_NAME" thKey="H_CITY_NAME" >
							<col style="width:10%" mobileWidth="65%" mobileHide="false" hide="false" columnKey="CITY_DISTRICT" thKey="H_CITY_DISTRICT" >
							<col style="width:10%" mobileWidth="65%" mobileHide="false" hide="false" columnKey="ADDRESS_OLD" thKey="H_ADDRESS_OLD" >
							<col style="width:10%" mobileWidth="65%" mobileHide="false" hide="false" columnKey="ADDRESS_NEW" thKey="H_ADDRESS_NEW" >
							<col style="width:10%" mobileWidth="65%" mobileHide="false" hide="false" columnKey="WRITER" thKey="H_WRITER" >
							<col style="width:10%" mobileWidth="35%" mobileHide="false" hide="false" columnKey="WRITE_DATE" thKey="H_WRITE_DATE" >
						</colgroup>
						<thead>
							<tr>
								<th scope="col" id="H_BUILDING_NAME">건물명</th>
								<th scope="col" id="H_CITY_NAME">시/도</th>
								<th scope="col" id="H_CITY_DISTRICT">시/군/구</th>
								<th scope="col" id="H_ADDRESS_OLD">지번주소</th>
								<th scope="col" id="H_ADDRESS_NEW">도로명주소</th>
								<th scope="col" id="H_WRITER">작성자</th>
								<th scope="col" id="H_WRITE_DATE" sortable="true">작성일시</th>
								
							</tr>
						</thead>
						<tbody>
							<tr>
								<td id="BUILDING_NAME" celltype="input" style="text-align:left" readOnly="true" name="건물명"></td>
								<td id="CITY_NAME" celltype="input" style="text-align:left" readOnly="true" name="시/도"></td>
								<td id="CITY_DISTRICT" celltype="input" style="text-align:left" readOnly="true" name="시/군/구"></td>
								<td id="ADDRESS_OLD" celltype="input" style="text-align:left" readOnly="true" name="지번주소"></td>
								<td id="ADDRESS_NEW" celltype="input" style="text-align:left" readOnly="true" name="도로명주소"></td>
								<td id="WRITER" celltype="input" style="text-align:left" readOnly="true" name="작성자"></td>
								<td id="WRITE_DATE" celltype="input" style="" readOnly="true" name="작성일시" displayFunction="$m.longToDate"></td>
								
							</tr>
						</tbody>
					</table>				
			</div>
			
			
		</div>	
	</div>
</div>
</body>
</html>
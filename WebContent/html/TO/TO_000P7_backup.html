<!DOCTYPE html>
<html lang="ko">
<head meta_width="1400px" meta_height="703px">
<style>
.cke_editable
{
font-size: 18px;
}
</style>
<script>
moca.TO_000P07.___ready = function(args){
	if(args != null){
		moca.TO_000P07.args = args;
	}
	
	if ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 )
		CKEDITOR.tools.enableHtml5Elements( document );

	// The trick to keep the editor in the sample quite small
	// unless user specified own height.
	CKEDITOR.config.height = 200;
	CKEDITOR.config.width = 'auto';
	//CKEDITOR.config.fontSize_defaultLabel = "72";
	var initSample = ( function() {
		var wysiwygareaAvailable = isWysiwygareaAvailable(),
			isBBCodeBuiltIn = !!CKEDITOR.plugins.get( 'bbcode' );

		return function() {
			var editorElement = CKEDITOR.document.getById( 'editor' );

			// :(((
			if ( isBBCodeBuiltIn ) {
				editorElement.setHtml(
					'Hello world!\n\n' +
					'I\'m an instance of [url=https://ckeditor.com]CKEditor[/url].'
				);
			}

			// Depending on the wysiwygarea plugin availability initialize classic or inline editor.
			if ( wysiwygareaAvailable ) {
				CKEDITOR.replace( 'editor',
					{
						on:
							{
							'instanceReady':function(evt){
								CKEDITOR.instances.editor.focus();
								//evt.editor.document.getBody().setStyles({color: 'black', 'font-size': '72px'})
								}
							
							}
					}		
				);
			} else {
				editorElement.setAttribute( 'contenteditable', 'true' );
				CKEDITOR.inline( 'editor' );

				// TODO we can consider displaying some info box that
				// without wysiwygarea the classic editor may not work.
			}
		};

		function isWysiwygareaAvailable() {
			// If in development mode, then the wysiwygarea must be available.
			// Split REV into two strings so builder does not replace it :D.
			if ( CKEDITOR.revision == ( '%RE' + 'V%' ) ) {
				return true;
			}

			return !!CKEDITOR.plugins.get( 'wysiwygarea' );
		}
	} )();
	//initSample();
	
	
					
					
	moca.TO_000P07.bindCombo("TermsUpCd",{metaInfo:{codeCd:"cd",codeNm:"nm"}},[
		{cd:'1',nm:'개인정보처리방침'},
		{cd:'2',nm:'카방이용약관'},
		{cd:'3',nm:'서비스제휴 제공동의'},
		{cd:'4',nm:'유료서비스이용약관'}]);
	moca.TO_000P07.fn_search();
};








moca.TO_000P07.fn_search = function(_grd,_idx,tdObj,_thisObj){
	var _termsId = moca.TO_000P07.args.parent.data.termsId;
	var _TermsUpCd = moca.TO_000P07.args.parent.data.TermsUpCd;
	moca.TO_000P07.exe({
		url : moca._domain+moca._contextRoot+"/TO_012/termsInfo.do",
		loadingbar:false,
		data : {
			"header" : moca.header,
			"body" : {
				"termsId":_termsId,
				"TermsUpCd":_TermsUpCd
				}
		},			
		callback : function(response){
			var data = response.termsInfo[0];
			moca.setValue(moca.TO_000P07.getObj("idx"),data.idx);
			moca.setValue(moca.TO_000P07.getObj("RegisterTime"),data.RegisterTime);
			moca.setValue(moca.TO_000P07.getObj("EnableTime"),data.EnableTime);
			moca.setValue(moca.TO_000P07.getObj("TermsUpCd"),data.TermsUpCd);
			moca.setValue(moca.TO_000P07.getObj("Enable"),data.Enable);
			CKEDITOR.replace( 'editor',
					{
						on:
							{
								'instanceReady':function(evt){
									CKEDITOR.instances.editor.focus();
									//evt.editor.document.getBody().setStyles({color: 'black', 'font-size': '72px'})
								}
							}
					}	
			);
			var editor = moca.TO_000P07.getObj('editor');	
			editor.innerHTML = "<h1>222김세창</h1><br><b>team moca!</b>";
		}
	});
};

</script>
<style>
</style>
</head>
<body>
	<div class="moca_pop_cont_wrap">
		<div type="form" id="form_3" class="moca_table toolbar" style=""
				label="약관추가"
				addition='[
				{"type":"button","position":"right","id":"btn_save","label":"저장","onclick":"moca.TO_000P07.fn_save","addClass":""}
					]'
				>
					<table class="moca_table_cont" style="">
						<colgroup>
								<col style=""><!-- 날짜적용 -->
								<col style=""><!-- 시간  -->
								<col style=""><!--서울도시철도 채권 -->
								<col style=""><!--지방도시철도 채권 -->
								<col style=""><!-- 지역개발 채권 -->
						</colgroup>
						<thead>
							<tr>
								<th>관리번호</th>
								<th>등록일</th>
								<th>적용일</th>
								<th>약관등 내용</th>
								<th>적용</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									<div type="input" id="idx" class="mocaInput" innerClass="tac" onclick="" style="" value="" readonly="true"></div>
								</td>
								<td>
									<div type="inputCalendar" class="moca_ica fl" style="width:100%" id="RegisterTime" displayFormat="####-##-##" 
										defaultValue="" 
										selecterItem=""
										showRadioOption="false"
									></div>
								</td>
								<td>
									<div type="inputCalendar" class="moca_ica fl" style="width:100%" id="EnableTime" displayFormat="####-##-##" 
										defaultValue="" 
										selecterItem=""
										showRadioOption="false"
									></div>
								</td>
								<td>
									<div type="combo" id="TermsUpCd" class="moca_combo" style="" displayFormat="[label]" cdField="cd" nmField="nm" ></div>
								</td>
								<td>
									<div type="radio" class="mocaRadio" style="width:100%" id="Enable" itemset='[{"label":"적용","value":"Y","checked":"true"},{"label":"미적용","value":"N"}]'></div>
								</td>
							</tr>  
						</tbody>
					</table>
					<div class="mt10 terms_edit">
						<div contenteditable="true" placeholder="" id="editor"  style="height:300px"></div>
					</div>
		</div>
<!-- 		<div type="form" id="form_4" class="moca_table toolbar mt10" style=""
				label="약관변경 공지사항"
				addition='[
				{"type":"button","position":"right","id":"btn_save","label":"저장","onclick":"moca.TO_000P07.fn_save","addClass":""}
					]'
				>
				<div class="terms_edit">
					<div contenteditable="true" placeholder="" id="editor2"  style="height:150px">에디터영역</div>
				</div>
		</div> -->
		
	</div>
</body>
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
<style>
</style>
<script>
moca.TO_014.___ready = function(args){
	moca.TO_014.emptyList = {"RegisterTime":"","InCompletTime":"","OutComment":"","UpdateTime":"","InComment":"","InEdTime":"","OutStTime":"","OutEdTime":"","OutCompletTime":"","idx":"","InStTime":"","transferPsblYn":""};
	//moca.TO_014.bindCombo("cmb_status_1",{metaInfo:{codeCd:"cd",codeNm:"nm"}},[{cd:'status01',nm:'00시'},{cd:'status02',nm:'01시'},{cd:'status03',nm:'02시'}]);
	//moca.TO_014.bindCombo("cmb_status_2",{metaInfo:{codeCd:"cd",codeNm:"nm"}},[{cd:'status01',nm:'10분'},{cd:'status02',nm:'20분'},{cd:'status03',nm:'30분'}]);
	moca.TO_014.exe({
		url : moca._domain+moca._contextRoot+"/TO_014/askDateInfo.do",
		loadingbar:true,
		data : {
			"header" : moca.header,
			"body" : {
				}
		},	
		callback : function(response){
			var data = response.askDateInfo;
			if(data != null && Object.keys(data).length > 0){
				moca.setLs('moca.TO_014.initData',data);
			}else{
				if(moca.TO_014.emptyList != null && Object.keys(moca.TO_014.emptyList).length > 0){
					data = moca.TO_014.emptyList;
				}else{
					data = {};
				}
			}
			moca.TO_014.fn_setList(data);
			moca.TO_014.data = data;
		//의뢰시간(앱화면의 차량분석화면에서 소유권이전신청 버튼 클릭 시간)
			//말일을 제외한 일자(통합)
			moca.TO_014.setFormValue('form_1','StTime1',data[1].InStTime); //시작(부터)
			moca.TO_014.setFormValue('form_1','EdTime1',data[1].InEdTime); //마감(까지)
			moca.TO_014.setFormValue('form_1','Comment1',data[1].InComment); //비고
			//월말일(관공서 영업일)
			moca.TO_014.setFormValue('form_1','StTime2',data[2].InStTime); //시작(부터)
			moca.TO_014.setFormValue('form_1','EdTime2',data[2].InEdTime); //마감(까지)
			moca.TO_014.setFormValue('form_1','Comment2',data[2].InComment); //비고
			//월말일(관공서 비영업일)
			moca.TO_014.setFormValue('form_1','StTime3',data[3].InStTime); //시작(부터)
			moca.TO_014.setFormValue('form_1','EdTime3',data[3].InEdTime); //마감(까지)
			moca.TO_014.setFormValue('form_1','Comment3',data[3].InComment); //비고
		//결제시간(①고객의 이전비용 결제완료 시간, ②비용요청 전문 발송)
			moca.TO_014.setFormValue('form_2','InStTime',data[0].InStTime); //시작(부터)
			moca.TO_014.setFormValue('form_2','InEdTime',data[0].InEdTime); //마감(까지)
			moca.TO_014.setFormValue('form_2','InCompletTime',data[0].InCompletTime); //예상완료일(당일)
			moca.TO_014.setFormValue('form_2','InComment',data[0].InComment); //예상완료일(당일) 비고
			moca.TO_014.setFormValue('form_2','OutStTime',data[0].OutStTime); //시작(부터)
			moca.TO_014.setFormValue('form_2','OutEdTime',data[0].OutEdTime); //마감(까지)
			moca.TO_014.setFormValue('form_2','OutCompletTime',data[0].OutCompletTime); //예상완료일(익일)
			moca.TO_014.setFormValue('form_2','OutComment',data[0].OutComment); //예상완료일(익일) 비고
		}
	});
};
moca.TO_014.fn_save = function(_this){
	if(moca.confirm('저장하시겠습니까?',function(result){
		if(result == 'Y'){
			moca.TO_014.exe({
				url : moca._domain+moca._contextRoot+"/TO_014/updateAskDateInfo.do",
				loadingbar:true,
				data : {
					"header" : moca.header,
					"body" : {
						updateAskDateInfo:moca.TO_014.fn_getList()
					}
				},			
				callback : function(response){
					moca.alert('성공적으로 저장하였습니다.');
				}
			});
		}
	}));
};

moca.TO_014.fn_tempShow = function(thisObj){
	var list = moca.getLs('moca.TO_014.tempData');
	moca.TO_014.fn_setList(list);
	moca.alert('임시저장된 데이터를 불러왔습니다.');
};
moca.TO_014.fn_tempSave = function(thisObj){
	moca.setLs('moca.TO_014.tempData',moca.TO_014.fn_getList());
	moca.alert('임시저장하였습니다.');
};
moca.TO_014.fn_initShow = function(thisObj){
	var list = moca.getLs('moca.TO_014.initData');
	moca.TO_014.fn_setList(list);
};
moca.TO_014.fn_setList = function(_list){
	if(_list == null || Object.keys(_list).length < 1){
		_list = moca.TO_014.emptyList;
	}
	var data = _list;
	
	//의뢰시간(앱화면의 차량분석화면에서 소유권이전신청 버튼 클릭 시간)
		//말일을 제외한 일자(통합)
		moca.TO_014.setFormValue('form_1','idx1',data[1].idx); //idx
		moca.TO_014.setFormValue('form_1','StTime1',data[1].InStTime); //시작(부터)
		moca.TO_014.setFormValue('form_1','EdTime1',data[1].InEdTime); //마감(까지)
		moca.TO_014.setFormValue('form_1','Comment1',data[1].InComment); //비고
		//월말일(관공서 영업일)
		moca.TO_014.setFormValue('form_1','idx2',data[2].idx); //idx
		moca.TO_014.setFormValue('form_1','StTime2',data[2].InStTime); //시작(부터)
		moca.TO_014.setFormValue('form_1','EdTime2',data[2].InEdTime); //마감(까지)
		moca.TO_014.setFormValue('form_1','Comment2',data[2].InComment); //비고
		//월말일(관공서 비영업일)
		moca.TO_014.setFormValue('form_1','idx3',data[3].idx); //idx
		moca.TO_014.setFormValue('form_1','StTime3',data[3].InStTime); //시작(부터)
		moca.TO_014.setFormValue('form_1','EdTime3',data[3].InEdTime); //마감(까지)
		moca.TO_014.setFormValue('form_1','Comment3',data[3].InComment); //비고
	//결제시간(①고객의 이전비용 결제완료 시간, ②비용요청 전문 발송)
		moca.TO_014.setFormValue('form_2','idx0',data[0].idx); //idx
		moca.TO_014.setFormValue('form_2','InStTime',data[0].InStTime); //시작(부터)
		moca.TO_014.setFormValue('form_2','InEdTime',data[0].InEdTime); //마감(까지)
		moca.TO_014.setFormValue('form_2','InCompletTime',data[0].InCompletTime); //예상완료일(당일)
		moca.TO_014.setFormValue('form_2','InComment',data[0].InComment); //예상완료일(당일) 비고
		moca.TO_014.setFormValue('form_2','OutStTime',data[0].OutStTime); //시작(부터)
		moca.TO_014.setFormValue('form_2','OutEdTime',data[0].OutEdTime); //마감(까지)
		moca.TO_014.setFormValue('form_2','OutCompletTime',data[0].OutCompletTime); //예상완료일(익일)
		moca.TO_014.setFormValue('form_2','OutComment',data[0].OutComment); //예상완료일(익일) 비고
	
	moca.TO_014.nowList = _list;
};
moca.TO_014.fn_getList = function(){
	var _list = moca.TO_014.nowList;
	if(_list != null){
		var data = _list;
		data[1].idx = moca.getValue(moca.TO_014.getObj('idx1'))+"";
		data[1].InStTime = moca.getValue(moca.TO_014.getObj('StTime1'));
		data[1].InEdTime = moca.getValue(moca.TO_014.getObj('EdTime1'));
		data[1].InComment = moca.getValue(moca.TO_014.getObj('Comment1'));
		
		data[2].idx = moca.getValue(moca.TO_014.getObj('idx2'))+"";
		data[2].InStTime = moca.getValue(moca.TO_014.getObj('StTime2'));
		data[2].InEdTime = moca.getValue(moca.TO_014.getObj('EdTime2'));
		data[2].InComment = moca.getValue(moca.TO_014.getObj('Comment2'));
		
		data[3].idx = moca.getValue(moca.TO_014.getObj('idx3'))+"";
		data[3].InStTime = moca.getValue(moca.TO_014.getObj('StTime3'));
		data[3].InEdTime = moca.getValue(moca.TO_014.getObj('EdTime3'));
		data[3].InComment = moca.getValue(moca.TO_014.getObj('Comment3'));
		
		data[0].idx = moca.getValue(moca.TO_014.getObj('idx0'))+"";
		data[0].InStTime = moca.getValue(moca.TO_014.getObj('InStTime'));
		data[0].InEdTime = moca.getValue(moca.TO_014.getObj('InEdTime'));
		data[0].InCompletTime = moca.getValue(moca.TO_014.getObj('InCompletTime'));
		data[0].InComment = moca.getValue(moca.TO_014.getObj('InComment'));

		data[0].OutStTime = moca.getValue(moca.TO_014.getObj('OutStTime'));
		data[0].OutEdTime = moca.getValue(moca.TO_014.getObj('OutEdTime'));
		data[0].OutCompletTime = moca.getValue(moca.TO_014.getObj('OutCompletTime'));
		data[0].OutComment = moca.getValue(moca.TO_014.getObj('OutComment'));
		
	}
	moca.TO_014.nowList = _list;
	return moca.TO_014.nowList;
};
moca.TO_014.fn_setterEmptyList = function(data,i){

};
/*
moca.TO_014.display_hour = function(_value){
	var _val = moca.trim(_value);
	if(_val != ''){
		var value_num = Number(_val);
		if(value_num < 0 || value_num >24 || isNaN(value_num)){
			moca.alert("정확한 시간을 입력해주세요");
			return "";
		}
		if(_val.endsWith('시')){
			_val = _val.replace(/시/,'');
		}	
		if(_val.length > 0){
			_val = _val+'시';
		}
		return _val;
	}else{
		return _val;
	}
}
*/
</script>
</head>
<body>
<div id="moca_tab_bridge1" class="moca_tab_panel" role="mdipanel" style="display:block;visibility:visible;">
	<div class="moca_tab_cont" style="height:100%">
		<div class="moca_cont_wrap">
			<div type="wframe" class="moca_titbox cm noshbox" id="titbox" tag="moca:titbox" 
				src="/html/titlebox.html"
				data = '{"sreenCd":"TO_014","sreenNm":"의뢰시간 설정","sreenPath":"Quick Menu,의뢰시간 설정"}'
			></div>
			<div type="form" id="form_1" class="moca_table toolbar mt12" style=""
				showRowSelection="false"
				label="의뢰시간설정"
				addition='[
					{"type":"button","position":"right","id":"btn_apply","label":"적용","onclick":"moca.TO_014.fn_save","addClass":""},
					{"type":"button","position":"right","id":"btn_save","label":"초기화","onclick":"moca.TO_014.fn_initShow","addClass":""},
					{"type":"button","position":"right","id":"btn_save","label":"임시저장","onclick":"moca.TO_014.fn_tempSave","addClass":"temp"},
					{"type":"button","position":"right","id":"btn_save","label":"임시저장불러오기","onclick":"moca.TO_014.fn_tempShow","addClass":"temp"}
					]'
				>
				<table class="moca_table_cont" style="">
					<colgroup>
						<col style="width:320px"><!-- 의뢰시간 -->
						<col style="width:0px"><!-- idx  -->
						<col style="width:160px"><!-- 시작(부터)  -->
						<col style="width:160px"><!-- 마감(까지) -->
						<col style=""><!-- 비고 -->
					</colgroup>
					<thead>
						<tr>
							<th>의뢰시간<br/>(앱화면의 차량분석화면에서 소유권이전신청 버튼 클릭 시간)</th>
							<th></th>
							<th>시작(부터)</th>
							<th>마감(까지)</th>
							<th>비고</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<th>말일을 제외한 일자(통합)</th>
							<td><div type="input" id="idx1" class="mocaInput" innerClass="tac" readonly="true"></div></td>
							<td><div type="input" id="StTime1" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="EdTime1" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="Comment1" class="mocaInput" onclick="" style="" value="" readonly="false"></div></td>
						</tr> 
						<tr>
							<th>월말일(관공서 영업일)</th>
							<td><div type="input" id="idx2" class="mocaInput" innerClass="tac" readonly="true"></div></td>
							<td><div type="input" id="StTime2" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="EdTime2" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="Comment2" class="mocaInput" onclick="" style="" value="" readonly="false"></div></td>
						</tr>
						<tr>
							<th>월말일(관공서 비영업일)</th>
							<td><div type="input" id="idx3" class="mocaInput" innerClass="tac" readonly="true"></div></td>
							<td><div type="input" id="StTime3" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="EdTime3" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="Comment3" class="mocaInput" onclick="" style="" value="" readonly="false"></div></td>
						</tr>                                              
					</tbody>
				</table>
			</div>
			<div type="form" id="form_2" class="moca_table mt10" style=""
				showRowSelection="false"
				>
				<table class="moca_table_cont" style="">
					<colgroup>
						<col style="width:320px"><!-- 결제시간 -->
						<col style="width:0px"><!-- idx  -->
						<col style="width:160px"><!-- 시작(부터)  -->
						<col style="width:160px"><!-- 마감(까지) -->
						<col style="width:160px"><!-- 예상완료일(당일) -->
						<col style="width:160px"><!-- 예상완료일(익일) -->
						<col style=""><!-- 비고 -->
					</colgroup>
					<tbody>
						<tr>
							<th rowspan="3" class="">결제시간<br/>(①고객의 이전비용 결제완료 시간, ②비용요청 전문 발송)</th>
							<th></th>
							<th>시작(부터)</th>
							<th>마감(까지)</th>
							<th>예상완료일(당일)</th>
							<th>예상완료일(익일)</th>
							<th>비고</th>
						</tr>
						<tr>
							<td><div type="input" id="idx0" class="mocaInput" innerClass="tac" readonly="true"></div></td>
							<td><div type="input" id="InStTime" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="InEdTime" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="InCompletTime" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="InCompletTime_none" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="InComment" class="mocaInput" onclick="" style="" value="" readonly="false"></div></td>
						</tr> 
						<tr>
							<td></td>
							<td><div type="input" id="OutStTime" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="OutEdTime" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="OutCompletTime_none" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="OutCompletTime" class="mocaInput" innerClass="tac" displayFunction="" onclick="" style="" value="" readonly="false"></div></td>
							<td><div type="input" id="OutComment" class="mocaInput" onclick="" style="" value="" readonly="false"></div></td>
						</tr>                                               
					</tbody>
				</table>
			</div>
		</div>	
	</div>
</div>
</body>
</html>
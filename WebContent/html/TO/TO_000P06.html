<!DOCTYPE html>
<html lang="ko">
<head meta_width="900px" meta_height="326px">
<script>
moca.TO_000P06.___ready = function(args){
	if(args != null){
		moca.TO_000P06.args = args;
	}
	moca.TO_009.exe({
		url : moca._domain+moca._contextRoot+"/TO_009/tsCarDbMngList.do",
		loadingbar:true,
		data : {
			"header" : moca.header,
			"body" : {
				"SpecMgmtNumber":moca.TO_000P06.args.parent.data.SpecMgmtNumber
				}
		},			
		callback : function(response){
			var data = response.tsCarDbMngDetail;
			moca.TO_000P06.data = data;
			moca.TO_000P06.setFormValue('form_3','SpecMgmtNumber',data.SpecMgmtNumber); //제원관리번호
			moca.TO_000P06.setFormValue('form_3','Manufacturer',data.Manufacturer); // 제조/수입사
			moca.TO_000P06.setFormValue('form_3','FuelRatio',data.FuelRatio); // 복합연료소비율	
			moca.TO_000P06.setFormValue('form_3','VehicleType',data.VehicleType); // 차종명
			moca.TO_000P06.setFormValue('form_3','carName',data.Name); // 차명
			moca.TO_000P06.setFormValue('form_3','carClass',data.Class); // 차종분류명
			moca.TO_000P06.setFormValue('form_3','Fuel',data.Fuel); // 사용연료명
			moca.TO_000P06.setFormValue('form_3','FuelTank',data.FuelTank); // 연료탱크
			moca.TO_000P06.setFormValue('form_3','carPurpose',data.Purpose); // 차종유형명
			moca.TO_000P06.setFormValue('form_3','carWeight',moca.comma(data.Weight)+"kg"); // 차종총중량
			
			
			moca.TO_000P06.setFormValue('form_3','EcoFriendly',data.EcoFriendly); 
			moca.TO_000P06.setFormValue('form_3','UpdateTime',moca.longToDate(data.UpdateTime)); 
			
			moca.TO_000P06.setFormValue('form_3','FormName',data.FormName); // 형식명 
			moca.TO_000P06.setFormValue('form_3','CountryOrigin',data.CountryOrigin); // 국산수입구분 
			moca.TO_000P06.setFormValue('form_3','Displacement',moca.comma(data.Displacement)+"cc"); // 배기량 
			moca.TO_000P06.setFormValue('form_3','BodyLength',moca.comma(data.BodyLength)+"mm"); // 차체길이 
			moca.TO_000P06.setFormValue('form_3','RidingCapacity',data.RidingCapacity+"명"); // 승차정원수 
			moca.TO_000P06.setFormValue('form_3','BodyWidth',moca.comma(data.BodyWidth)+"mm"); // 차체너비 
			moca.TO_000P06.setFormValue('form_3','FuelType',data.Fuel); // 유종 
			moca.TO_000P06.setFormValue('form_3','MaxLoad',moca.comma(data.MaxLoad)); // 최대적재량 
			moca.TO_000P06.setFormValue('form_3','BodyHeight',moca.comma(data.BodyHeight)+"mm"); // 차체높이 
			moca.TO_000P06.setFormValue('form_3','Note',data.Note); // 기타 
		}
	});
};
moca.TO_000P06.setValue = function(_data){

};

moca.TO_000P06.fn_save = function(_this){
	if(moca.confirm('저장하시겠습니까?',function(result){
		if(result == 'Y'){
			moca.TO_000P06.exe({
				url : moca._domain+moca._contextRoot+"/TO_009/updateTsCarDbMng.do",
				loadingbar:false,
				data : {
					"header" : moca.header,
					"body" : {
						idx : moca.TO_000P06.args.parent.data.idx+'',
						EcoFriendly : moca.TO_000P06.getRadio('EcoFriendly').value,
						SpecMgmtNumber:moca.TO_000P06.args.parent.data.SpecMgmtNumber
					}
				},			
				callback : function(response){
					if(response.error){
						moca.alert(response.error);
					}else{
						if(response.tsCarDbMngList == 1){
							
							moca.TO_009.fn_search(function(){
								moca.alert('성공적으로 저장되었습니다.');
							});
						}
						//moca.TO_003.fn_search(false);
					}
				}
			});
		}
	}));
};

</script>
<style>
</style>
</head>
<body>
	<div class="moca_pop_cont_wrap">
		<div type="form" id="form_3" class="moca_table toolbar" style=""
				label="차량세부정보"
				showRowSelection="false"
				addition='[
				{"type":"button","position":"right","id":"btn_save","label":"적용","onclick":"moca.TO_000P06.fn_save","addClass":""}
					]'
				>
			<table class="moca_table_cont th_tar">
				<colgroup>
					<col style="width:100px">
					<col>
					<col style="width:100px">
					<col>
					<col style="width:100px">
					<col>
				</colgroup>
				<tr>
					<th>제원관리번호</th>
					<td>
						<div type="input" id="SpecMgmtNumber" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>제조/수입사</th>
					<td>
						<div type="input" id="Manufacturer" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>복합연료소비율</th>
					<td>
						<div type="input" id="FuelRatio" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
				</tr>
				<tr>
					<th>차종명</th>
					<td>
						<div type="input" id="VehicleType" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>차명</th>
					<td>
						<div type="input" id="carName" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>연료탱크</th>
					<td>
						<div type="input" id="FuelTank" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
				</tr>
				<tr>
					<th>차종분류명</th>
					<td>
						<div type="input" id="carClass" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>사용연료명</th>
					<td>
						<div type="input" id="Fuel" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th class="bg_blue txt_white">* 친환경차 유무</th>
					<td>
						<div type="radio" class="mocaRadio" style="width:100%" id="EcoFriendly" itemset='[{"label":"Y","value":"Y","checked":"true"},{"label":"N","value":"N"}]'></div>
					</td>
				</tr>		
				<tr>
					<th>차종유형명</th>
					<td>
						<div type="input" id="carPurpose" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>차종총중량</th>
					<td>
						<div type="input" id="carWeight" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th class="bg_blue txt_white">* 수정일시</th>
					<td>
						<div type="input" id="UpdateTime" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
				</tr>
				<tr>
					<th>형식명</th>
					<td>
						<div type="input" id="FormName" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>국산수입구분</th>
					<td>
						<div type="input" id="CountryOrigin" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>유종</th>
					<td>
						<div type="input" id="FuelType" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
				</tr>
				<tr>
					<th>배기량</th>
					<td>
						<div type="input" id="Displacement" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>차체길이</th>
					<td>
						<div type="input" id="BodyLength" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>기타</th>
					<td>
						<div type="input" id="Note" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
				</tr>
				<tr>
					<th>승차정원수</th>
					<td>
						<div type="input" id="RidingCapacity" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>차체너비</th>
					<td>
						<div type="input" id="BodyWidth" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th></th>
					<td></td>
				</tr>
				<tr>
					<th>최대적재량</th>
					<td>
						<div type="input" id="MaxLoad" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th>차체높이</th>
					<td>
						<div type="input" id="BodyHeight" class="mocaInput" innerClass="" onclick="" style="" value="" readonly="true"></div>
					</td>
					<th></th>
					<td></td>
				</tr>
			</table>
		</div>
	</div>
</body>
</html>